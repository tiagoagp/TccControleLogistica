@model IEnumerable<PucMinas.SistemaControleLogistica.ControleColetaSite.Models.SolicitacaoTransporteModel>

@{
    ViewBag.Title = "Index";
}


@section Breadcrumbs{
    <li class="breadcrumb-item"><a href="/home/index">Home</a></li>
    <li class="breadcrumb-item active"><a href="#">Lista de Solicitações de Transporte</a></li>
}

<h2>Solicitações de Transporte</h2>

<hr />

<table id="tabela-solicitacoes" class="table">
    <thead class="thead-dark">
        <tr>
            <th>Nº de Controle</th>
            <th>Data Entrega</th>
            <th>Cliente</th>
            <th>Cidade</th>
            <th>Estado</th>
            <th>Status</th>
            <th></th>
        </tr>
    </thead>
    <tbody>
        @foreach (var solic in Model) {
        <tr>
            <td>@Html.DisplayFor(modelItem => solic.CodigoControle)</td>
            <td>@Html.DisplayFor(modelItem => solic.DataEntregaTexto)</td>
            <td>@Html.DisplayFor(modelItem => solic.Usuario.NomeUsuario)</td>
            <td>@Html.DisplayFor(modelItem => solic.CidadeDestino)</td>
            <td>@Html.DisplayFor(modelItem => solic.EstadoDestino)</td>

            @{
                var statusTexto = "";

                if (solic.Status == PucMinas.SistemaControleLogistica.ControleColetaSite.Enumeradores.StatusSolicitacao.Pendente)
                {
                    statusTexto = "Pendente de coleta no cliente";
                }
                else if (solic.Status == PucMinas.SistemaControleLogistica.ControleColetaSite.Enumeradores.StatusSolicitacao.ColetaEmAndamento)
                {
                    statusTexto = "Coleta em andamento";
                }
            }

            <td>@statusTexto</td>
            <td>
                <a class="btn btn-success" href="/SolicitacaoTransporte/Edit?id=@solic.Id"><i class="fa fa-edit"></i></a>
            </td>
        </tr>
        }
    </tbody>
</table>

@section scripts{
    <script type="text/javascript">
        $(document).ready(function () {
        });
    </script>
}